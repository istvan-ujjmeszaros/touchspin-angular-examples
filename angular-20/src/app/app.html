<div class="App">
  <h1>TouchSpin Angular 20 Event Demo</h1>

  <div class="demo-section">
    <h2>Imperative API Methods</h2>
    <p>Test all TouchSpin methods via the component reference:</p>
    <div class="method-buttons">
      <button (click)="touchSpinComponent?.focus()">Focus</button>
      <button (click)="touchSpinComponent?.blur()">Blur</button>
      <button (click)="touchSpinComponent?.increment()">Increment</button>
      <button (click)="touchSpinComponent?.decrement()">Decrement</button>
      <button (click)="handleGetValue()">Get Value</button>
      <button (click)="handleSetValue()">Set Value</button>
      <button (click)="touchSpinComponent?.startUpSpin()">Start Up Spin</button>
      <button (click)="touchSpinComponent?.startDownSpin()">Start Down Spin</button>
      <button (click)="touchSpinComponent?.stopSpin()">Stop Spin</button>
      <button (click)="handleUpdateSettings()">Update Settings</button>
    </div>
  </div>

  <div class="demo-section">
    <h2>USD Spinner with Event Tracking</h2>
    <touch-spin
      #touchSpinComponent
      name="value"
      [ngModel]="value()"
      (ngModelChange)="value.set($event)"
      [min]="0"
      [max]="100"
      [step]="0.5"
      [decimals]="2"
      [prefix]="'$'"
      [suffix]="' USD'"
      (onMin)="handleEvent('onMin')"
      (onMax)="handleEvent('onMax')"
      (onStartSpin)="handleEvent('onStartSpin')"
      (onStopSpin)="handleEvent('onStopSpin')"
      (onStartUpSpin)="handleEvent('onStartUpSpin')"
      (onStartDownSpin)="handleEvent('onStartDownSpin')"
      (onStopUpSpin)="handleEvent('onStopUpSpin')"
      (onStopDownSpin)="handleEvent('onStopDownSpin')"
      (onSpeedChange)="handleEvent('onSpeedChange')"
    >
    </touch-spin>
    <p>Current value: ${{ value().toFixed(2) }} USD</p>
  </div>

  <div class="demo-section">
    <h2>TouchSpin Events</h2>
    <p>Events that have been fired:</p>
    <ul class="event-list">
      <li *ngFor="let event of allEvents()" [class.fired]="firedEvents().has(event)" [class.not-fired]="!firedEvents().has(event)">
        {{ event }}: {{ firedEvents().has(event) ? '✅ Fired' : '❌ Not fired' }}
      </li>
    </ul>
    <button class="reset-events-btn" (click)="resetEvents()">Reset Events</button>
  </div>
</div>